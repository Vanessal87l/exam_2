<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Корзина</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100 p-6">
<h1 class="text-2xl font-bold mb-6">Ваша корзина:</h1>
<div id="cart" class="space-y-4"></div>
<p class="mt-4 font-bold text-lg">Итого: <span id="total">0</span> $</p>

<script>
    let cart = JSON.parse(localStorage.getItem('cart')) || {};
    const cartEl = document.getElementById('cart');
    const totalEl = document.getElementById('total');

    function renderCart() {
        cartEl.innerHTML = '';
        let total = 0;

        Object.values(cart).forEach((item) => {
            total += item.price * item.qty;

            const div = document.createElement('div');
            div.className = 'flex justify-between items-center bg-white p-4 rounded shadow';
            div.innerHTML = `
          <span>${item.name} - ${item.price} $ x ${item.qty}</span>
          <button class="bg-red-500 text-white px-3 py-1 rounded"
                  onclick="removeItem('${item.id}')">Удалить</button>
        `;
            cartEl.appendChild(div);
        });

        totalEl.textContent = total.toFixed(2);
    }

    function removeItem(id) {
        delete cart[id];
        localStorage.setItem('cart', JSON.stringify(cart));
        renderCart();
    }

    renderCart();
</script>
</body>
</html>
